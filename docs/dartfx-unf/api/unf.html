

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; dartfx-unf 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="API Reference" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schema.html">Schema Specification Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spec_summary.html">UNF v6 Specification Summary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#top-level-interface">Top-Level Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#key-features">Key Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#public-api">Public API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quick-example">Quick Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#core-computation">Core Computation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.core.unf_column"><code class="docutils literal notranslate"><span class="pre">unf_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.core.unf_dataframe"><code class="docutils literal notranslate"><span class="pre">unf_dataframe()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.core.unf_dataset"><code class="docutils literal notranslate"><span class="pre">unf_dataset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.core.unf_file"><code class="docutils literal notranslate"><span class="pre">unf_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.core.unf_from_bytes"><code class="docutils literal notranslate"><span class="pre">unf_from_bytes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.core.unf_from_stream"><code class="docutils literal notranslate"><span class="pre">unf_from_stream()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-parameters">Configuration &amp; Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters"><code class="docutils literal notranslate"><span class="pre">UNFParameters</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#reporting-results">Reporting &amp; Results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.report.ColumnResult"><code class="docutils literal notranslate"><span class="pre">ColumnResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.report.DatasetResult"><code class="docutils literal notranslate"><span class="pre">DatasetResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.report.FileResult"><code class="docutils literal notranslate"><span class="pre">FileResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.report.UNFReport"><code class="docutils literal notranslate"><span class="pre">UNFReport</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#normalization-logic">Normalization Logic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_bit_field"><code class="docutils literal notranslate"><span class="pre">normalize_bit_field()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_boolean"><code class="docutils literal notranslate"><span class="pre">normalize_boolean()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_date"><code class="docutils literal notranslate"><span class="pre">normalize_date()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_datetime"><code class="docutils literal notranslate"><span class="pre">normalize_datetime()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_duration"><code class="docutils literal notranslate"><span class="pre">normalize_duration()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_missing"><code class="docutils literal notranslate"><span class="pre">normalize_missing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_numeric"><code class="docutils literal notranslate"><span class="pre">normalize_numeric()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_string"><code class="docutils literal notranslate"><span class="pre">normalize_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.normalize.normalize_time"><code class="docutils literal notranslate"><span class="pre">normalize_time()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-dartfx.unf.hasher">Internal Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.hasher.combine_unfs"><code class="docutils literal notranslate"><span class="pre">combine_unfs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.hasher.compute_unf_hash"><code class="docutils literal notranslate"><span class="pre">compute_unf_hash()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.hasher.finalize_hash"><code class="docutils literal notranslate"><span class="pre">finalize_hash()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.memory.get_available_memory"><code class="docutils literal notranslate"><span class="pre">get_available_memory()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dartfx.unf.memory.should_stream"><code class="docutils literal notranslate"><span class="pre">should_stream()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dartfx-unf</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">API Reference</a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/unf.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<p>This section provides a detailed reference for all the modules, classes, and functions available in <cite>dartfx-unf</cite>.</p>
<section id="top-level-interface">
<h2>Top-Level Interface<a class="headerlink" href="#top-level-interface" title="Link to this heading"></a></h2>
<p>For most common tasks, you can use the functions re-exported at the package level.</p>
<p><cite>dartfx-unf</cite> is a high-performance Python implementation of the Universal Number
Fingerprint (UNF) v6 specification, built on the Polars engine.</p>
<p>The library provides tools to calculate system-independent digital signatures
(fingerprints) for data objects, ensuring data integrity across different
environments and formats.</p>
<section id="key-features">
<h3>Key Features<a class="headerlink" href="#key-features" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Column-level hashing</strong>: Fingerprint individual Polars Series.</p></li>
<li><p><strong>File-level hashing</strong>: Supports CSV, Parquet, and TSV with automatic format
detection.</p></li>
<li><p><strong>Dataset-level hashing</strong>: Combine fingerprints from multiple files into a single
hash.</p></li>
<li><p><strong>Out-of-core processing</strong>: Efficiently handle massive datasets using streaming.</p></li>
</ul>
</section>
<section id="public-api">
<h3>Public API<a class="headerlink" href="#public-api" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#dartfx.unf.core.unf_column" title="dartfx.unf.core.unf_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">unf_column()</span></code></a>: Calculate UNF for a single vector.</p></li>
<li><p><a class="reference internal" href="#dartfx.unf.core.unf_file" title="dartfx.unf.core.unf_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">unf_file()</span></code></a>: Calculate UNF for a data file.</p></li>
<li><p><a class="reference internal" href="#dartfx.unf.core.unf_dataset" title="dartfx.unf.core.unf_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">unf_dataset()</span></code></a>: Combine fingerprints from multiple files.</p></li>
<li><p><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">UNFParameters</span></code></a>: Configuration for the algorithm.</p></li>
<li><p><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport"><code class="xref py py-class docutils literal notranslate"><span class="pre">UNFReport</span></code></a>: Structured results and metadata.</p></li>
</ul>
</section>
<section id="quick-example">
<h3>Quick Example<a class="headerlink" href="#quick-example" title="Link to this heading"></a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf</span><span class="w"> </span><span class="kn">import</span> <span class="n">unf_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">unf_file</span><span class="p">(</span><span class="s2">&quot;data.parquet&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">unf</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="core-computation">
<h2>Core Computation<a class="headerlink" href="#core-computation" title="Link to this heading"></a></h2>
<p>The <cite>dartfx.unf.core</cite> module contains the main logic for file, dataset, and vector-level hashing.</p>
<p id="module-dartfx.unf.core">Core UNF v6 computation – column, file, and dataset levels.</p>
<p>This module provides the three public entry-points of the library:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">unf_column</span></code>    – compute the UNF of a single Polars Series.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unf_dataframe</span></code> – compute the UNF of a Polars DataFrame.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unf_file</span></code>      – compute the UNF of a CSV or Parquet file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unf_dataset</span></code>   – compute the combined UNF of multiple files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unf_from_bytes</span></code> – compute the UNF from raw file bytes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unf_from_stream</span></code> – compute the UNF from a file-like object.</p></li>
</ul>
<p>For large files, <code class="docutils literal notranslate"><span class="pre">unf_file</span></code> automatically switches to streaming mode
when the file size exceeds a fraction of available system memory.  This
can also be controlled explicitly via the <code class="docutils literal notranslate"><span class="pre">streaming</span></code> parameter.</p>
<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.core.unf_column">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.core.</span></span><span class="sig-name descname"><span class="pre">unf_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/core.html#unf_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.core.unf_column" title="Link to this definition"></a></dt>
<dd><p>Compute the UNF fingerprint of a single data vector (Polars Series).</p>
<p>This function implements the UNF v6 specification for individual vectors, including
type-specific normalization (numeric rounding, string truncation, bit-field
encoding, etc.) and SHA-256 hashing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>pl.Series</em>) – A Polars Series containing the data to fingerprint. Supports all standard Polars
dtypes including Integers, Floats, Strings (Utf8), Booleans, Dates, Datetimes,
and Durations.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters (digits, hash bits, etc.). If None, default UNF v6
settings are used (N=7, H=128, X=128).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The printable UNF v6 fingerprint string
(e.g., <code class="docutils literal notranslate"><span class="pre">UNF:6:Do5dfAoOOFt4FSj0JcByEw==</span></code>).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf</span><span class="w"> </span><span class="kn">import</span> <span class="n">unf_column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.2345678</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">unf_column</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="go">UNF:6:Do5dfAoOOFt4FSj0JcByEw==</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using custom parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf.parameters</span><span class="w"> </span><span class="kn">import</span> <span class="n">UNFParameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">UNFParameters</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">unf_column</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">))</span>
<span class="go">UNF:6:N9:p/v3N8XjH9m2K8Ea9Y8Q2w==</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.core.unf_dataframe">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.core.</span></span><span class="sig-name descname"><span class="pre">unf_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport"><span class="pre">UNFReport</span></a></span></span><a class="reference internal" href="../_modules/dartfx/unf/core.html#unf_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.core.unf_dataframe" title="Link to this definition"></a></dt>
<dd><p>Compute the UNF fingerprint for a Polars DataFrame.</p>
<p>Implements the “combination” rule for dataframes: individual column hashes are
sorted lexicographically and then hashed together to form the table-level
fingerprint. This ensures that the UNF is invariant to column order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pl.DataFrame</em>) – The Polars DataFrame to fingerprint.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters. Uses defaults if None.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – A human-readable label or filename for the report.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A structured report containing the final UNF, individual column UNFs, and types.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport">UNFReport</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf</span><span class="w"> </span><span class="kn">import</span> <span class="n">unf_dataframe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">unf_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;my_table&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">unf</span><span class="p">)</span>
<span class="go">UNF:6:L1XOn/hA9Y/p/v3N8XjH9A==</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Inspect columns in the report</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">report</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">unf</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.core.unf_dataset">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.core.</span></span><span class="sig-name descname"><span class="pre">unf_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streaming</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_schema_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport"><span class="pre">UNFReport</span></a></span></span><a class="reference internal" href="../_modules/dartfx/unf/core.html#unf_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.core.unf_dataset" title="Link to this definition"></a></dt>
<dd><p>Compute the combined UNF of multiple files (e.g. a partitioned dataset).</p>
<p>Equivalent to the UNF of a collection of files as per UNF v6 §IIb.
Individual file fingerprints are computed, sorted lexicographically, and hashed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paths</strong> (<em>list</em><em> of </em><em>Path</em><em> or </em><em>str</em>) – List of files to process.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Common parameters for all files.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – Label for the entire dataset.</p></li>
<li><p><strong>streaming</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use streaming mode for individual files.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Rows per batch for streaming.</p></li>
<li><p><strong>infer_schema_length</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of rows to scan for CSV schema inference. Use -1 to scan all rows.</p></li>
<li><p><strong>schema</strong> (<em>str</em><em>, </em><em>Path</em><em>, </em><em>dict</em><em>, or </em><em>None</em>) – Optional schema specification to override type inference for all files.
Same format as in <code class="docutils literal notranslate"><span class="pre">unf_file()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A report containing the dataset-level UNF and a collection of file-level
results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport">UNFReport</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf</span><span class="w"> </span><span class="kn">import</span> <span class="n">unf_dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;part-1.parquet&quot;</span><span class="p">,</span> <span class="s2">&quot;part-2.parquet&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_report</span> <span class="o">=</span> <span class="n">unf_dataset</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Version_1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unified UNF: </span><span class="si">{</span><span class="n">ds_report</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">unf</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.core.unf_file">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.core.</span></span><span class="sig-name descname"><span class="pre">unf_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streaming</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_schema_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport"><span class="pre">UNFReport</span></a></span></span><a class="reference internal" href="../_modules/dartfx/unf/core.html#unf_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.core.unf_file" title="Link to this definition"></a></dt>
<dd><p>Compute the UNF fingerprint for a CSV or Parquet data file.</p>
<p>This is the main entry point for file-based fingerprinting. It handles schema
inference, format detection, and performance optimization based on file size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em> or </em><em>Path</em>) – Path to a CSV or Parquet data file.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Normalization parameters (digits, characters, hash_bits, truncate).</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – Human-readable label for the file in the report.</p></li>
<li><p><strong>streaming</strong> (<em>bool</em><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, force streaming mode (process in batches, constant memory).
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, force in-memory mode. If <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default),
auto-detect based on file size vs. available system memory.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – Number of rows per batch in streaming mode (default 100 000).</p></li>
<li><p><strong>infer_schema_length</strong> (<em>int</em>) – Number of rows to scan for CSV schema inference (default 10 000).
Use -1 to scan all rows.</p></li>
<li><p><strong>schema</strong> (<em>str</em><em>, </em><em>Path</em><em>, </em><em>dict</em><em>, or </em><em>None</em>) – Optional schema specification to override type inference.
Can be:
- Path to a JSON Schema file
- Inline JSON Schema string
- Dictionary mapping column names to JSON Schema type names
User-specified types take precedence over inferred types.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A structured report containing column-level and file-level UNFs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport">UNFReport</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the file format is not supported or schema is invalid.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># With schema file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">unf_file</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;schema.json&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># With inline schema</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_json</span> <span class="o">=</span> <span class="s1">&#39;{&quot;properties&quot;: {&quot;age&quot;: {&quot;type&quot;: &quot;integer&quot;}}}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">unf_file</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">schema_json</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># With dictionary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">unf_file</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.core.unf_from_bytes">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.core.</span></span><span class="sig-name descname"><span class="pre">unf_from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport"><span class="pre">UNFReport</span></a></span></span><a class="reference internal" href="../_modules/dartfx/unf/core.html#unf_from_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.core.unf_from_bytes" title="Link to this definition"></a></dt>
<dd><p>Compute the UNF from raw file bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>bytes</em>) – The raw bytes of a CSV or Parquet file.</p></li>
<li><p><strong>format</strong> (<em>str</em>) – Either “csv” or “parquet”.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – A human-readable label for the report.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A structured UNF report.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport">UNFReport</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.core.unf_from_stream">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.core.</span></span><span class="sig-name descname"><span class="pre">unf_from_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BinaryIO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport"><span class="pre">UNFReport</span></a></span></span><a class="reference internal" href="../_modules/dartfx/unf/core.html#unf_from_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.core.unf_from_stream" title="Link to this definition"></a></dt>
<dd><p>Compute the UNF from a file-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> (<em>BinaryIO</em>) – A file-like object (e.g. from <code class="docutils literal notranslate"><span class="pre">open(...,</span> <span class="pre">'rb')</span></code> or <code class="docutils literal notranslate"><span class="pre">BytesIO</span></code>).</p></li>
<li><p><strong>format</strong> (<em>str</em>) – Either “csv” or “parquet”.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – A human-readable label for the report.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A structured UNF report.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.report.UNFReport" title="dartfx.unf.report.UNFReport">UNFReport</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="configuration-parameters">
<h2>Configuration &amp; Parameters<a class="headerlink" href="#configuration-parameters" title="Link to this heading"></a></h2>
<p>Use <cite>UNFParameters</cite> to control the precision and behavior of the fingerprinting algorithm.</p>
<p id="module-dartfx.unf.parameters">UNF calculation parameters.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">dartfx.unf.parameters.</span></span><span class="sig-name descname"><span class="pre">UNFParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">digits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">characters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_bits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dartfx/unf/parameters.html#UNFParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parameters controlling the Universal Number Fingerprint (UNF) v6 calculation.</p>
<p>This class encapsulates all the optional parameters defined in the UNF v6
specification. When non-default values are used, they are automatically
encoded into the resulting UNF header string (e.g., <code class="docutils literal notranslate"><span class="pre">UNF:6:N9:...</span></code>).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters.digits">
<span class="sig-name descname"><span class="pre">digits</span></span><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters.digits" title="Link to this definition"></a></dt>
<dd><p>Number of significant digits for numeric rounding (the <code class="docutils literal notranslate"><span class="pre">N</span></code> parameter).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, default 7</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters.characters">
<span class="sig-name descname"><span class="pre">characters</span></span><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters.characters" title="Link to this definition"></a></dt>
<dd><p>Maximum number of characters for string truncation (the <code class="docutils literal notranslate"><span class="pre">X</span></code> parameter).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, default 128</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters.hash_bits">
<span class="sig-name descname"><span class="pre">hash_bits</span></span><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters.hash_bits" title="Link to this definition"></a></dt>
<dd><p>Number of bits to retain from the SHA-256 hash (the <code class="docutils literal notranslate"><span class="pre">H</span></code> parameter).
Must be one of {128, 192, 196, 256}.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, default 128</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters.truncate">
<span class="sig-name descname"><span class="pre">truncate</span></span><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters.truncate" title="Link to this definition"></a></dt>
<dd><p>If True, use truncation (R1 mode) instead of IEEE 754 “round towards
nearest, ties to even” for numeric normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, default False</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf.parameters</span><span class="w"> </span><span class="kn">import</span> <span class="n">UNFParameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Standard v6 defaults</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">UNFParameters</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<span class="go">UNF:6:</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># High precision (9 digits) and larger hash (256 bits)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">UNFParameters</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">hash_bits</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<span class="go">UNF:6:N9,H256:</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use truncation (R1) mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">UNFParameters</span><span class="p">(</span><span class="n">truncate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<span class="go">UNF:6:R1:</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">characters</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">128</span></span><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">digits</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></span><a class="headerlink" href="#id1" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">hash_bits</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">128</span></span><a class="headerlink" href="#id2" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters.header">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">header</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters.header" title="Link to this definition"></a></dt>
<dd><p>Build the UNF header string, e.g. <code class="docutils literal notranslate"><span class="pre">UNF:6:</span></code> or <code class="docutils literal notranslate"><span class="pre">UNF:6:N9,H256:</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dartfx.unf.parameters.UNFParameters.is_default">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">is_default</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></span><a class="headerlink" href="#dartfx.unf.parameters.UNFParameters.is_default" title="Link to this definition"></a></dt>
<dd><p>Return True if all parameters are at their default values.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">truncate</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></span><a class="headerlink" href="#id3" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="reporting-results">
<h2>Reporting &amp; Results<a class="headerlink" href="#reporting-results" title="Link to this heading"></a></h2>
<p>The <cite>dartfx.unf.report</cite> module provides the structured models used to represent the output of a UNF calculation.</p>
<p id="module-dartfx.unf.report">Structured report model for UNF results.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dartfx.unf.report.ColumnResult">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">dartfx.unf.report.</span></span><span class="sig-name descname"><span class="pre">ColumnResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dartfx/unf/report.html#ColumnResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.report.ColumnResult" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>UNF result for a single column (vector).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.ColumnResult.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><a class="headerlink" href="#dartfx.unf.report.ColumnResult.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.ColumnResult.type">
<span class="sig-name descname"><span class="pre">type</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></span><a class="headerlink" href="#dartfx.unf.report.ColumnResult.type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.ColumnResult.unf">
<span class="sig-name descname"><span class="pre">unf</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><a class="headerlink" href="#dartfx.unf.report.ColumnResult.unf" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dartfx.unf.report.DatasetResult">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">dartfx.unf.report.</span></span><span class="sig-name descname"><span class="pre">DatasetResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dartfx.unf.report.FileResult" title="dartfx.unf.report.FileResult"><span class="pre">FileResult</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dataset'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dartfx/unf/report.html#DatasetResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.report.DatasetResult" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>UNF result for a dataset (multiple files).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.DatasetResult.entries">
<span class="sig-name descname"><span class="pre">entries</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dartfx.unf.report.FileResult" title="dartfx.unf.report.FileResult"><span class="pre">FileResult</span></a><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#dartfx.unf.report.DatasetResult.entries" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.DatasetResult.label">
<span class="sig-name descname"><span class="pre">label</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></span><a class="headerlink" href="#dartfx.unf.report.DatasetResult.label" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.DatasetResult.type">
<span class="sig-name descname"><span class="pre">type</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'dataset'</span></span><a class="headerlink" href="#dartfx.unf.report.DatasetResult.type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.DatasetResult.unf">
<span class="sig-name descname"><span class="pre">unf</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><a class="headerlink" href="#dartfx.unf.report.DatasetResult.unf" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dartfx.unf.report.FileResult">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">dartfx.unf.report.</span></span><span class="sig-name descname"><span class="pre">FileResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dartfx.unf.report.ColumnResult" title="dartfx.unf.report.ColumnResult"><span class="pre">ColumnResult</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'file'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dartfx/unf/report.html#FileResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.report.FileResult" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>UNF result for a single file (data frame).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.FileResult.columns">
<span class="sig-name descname"><span class="pre">columns</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#dartfx.unf.report.ColumnResult" title="dartfx.unf.report.ColumnResult"><span class="pre">ColumnResult</span></a><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#dartfx.unf.report.FileResult.columns" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.FileResult.label">
<span class="sig-name descname"><span class="pre">label</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></span><a class="headerlink" href="#dartfx.unf.report.FileResult.label" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.FileResult.type">
<span class="sig-name descname"><span class="pre">type</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'file'</span></span><a class="headerlink" href="#dartfx.unf.report.FileResult.type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.FileResult.unf">
<span class="sig-name descname"><span class="pre">unf</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><a class="headerlink" href="#dartfx.unf.report.FileResult.unf" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">dartfx.unf.report.</span></span><span class="sig-name descname"><span class="pre">UNFReport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.report.FileResult" title="dartfx.unf.report.FileResult"><span class="pre">FileResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#dartfx.unf.report.DatasetResult" title="dartfx.unf.report.DatasetResult"><span class="pre">DatasetResult</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unf_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'6'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dartfx/unf/report.html#UNFReport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.report.UNFReport" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A structured report containing the final results of a UNF calculation.</p>
<p>This class wraps the final fingerprint (which can be a file-level result or a
dataset-level result), the parameters used for the calculation, and a
timestamp. It provides built-in methods for serializing the results to
standard JSON formats that comply with the project’s JSON schema.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport.result">
<span class="sig-name descname"><span class="pre">result</span></span><a class="headerlink" href="#dartfx.unf.report.UNFReport.result" title="Link to this definition"></a></dt>
<dd><p>The core result of the calculation. A <code class="docutils literal notranslate"><span class="pre">FileResult</span></code> contains column-level
UNFs, while a <code class="docutils literal notranslate"><span class="pre">DatasetResult</span></code> contains file-level results.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.report.FileResult" title="dartfx.unf.report.FileResult">FileResult</a> | <a class="reference internal" href="#dartfx.unf.report.DatasetResult" title="dartfx.unf.report.DatasetResult">DatasetResult</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport.params">
<span class="sig-name descname"><span class="pre">params</span></span><a class="headerlink" href="#dartfx.unf.report.UNFReport.params" title="Link to this definition"></a></dt>
<dd><p>The configuration used (digits, hash_bits, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters">UNFParameters</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport.timestamp">
<span class="sig-name descname"><span class="pre">timestamp</span></span><a class="headerlink" href="#dartfx.unf.report.UNFReport.timestamp" title="Link to this definition"></a></dt>
<dd><p>ISO 8601 timestamp of when the report was generated. Set automatically
during initialization if not provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport.unf_version">
<span class="sig-name descname"><span class="pre">unf_version</span></span><a class="headerlink" href="#dartfx.unf.report.UNFReport.unf_version" title="Link to this definition"></a></dt>
<dd><p>The version of the UNF specification used.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “6”</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dartfx.unf</span><span class="w"> </span><span class="kn">import</span> <span class="n">unf_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">unf_file</span><span class="p">(</span><span class="s2">&quot;data.parquet&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Save as a validated JSON file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;report.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get just the top-level UNF</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">unf</span><span class="p">)</span>
<span class="go">UNF:6:Do5dfAoOOFt4FSj0JcByEw==</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">params</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a></span><a class="headerlink" href="#id4" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">result</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#dartfx.unf.report.FileResult" title="dartfx.unf.report.FileResult"><span class="pre">FileResult</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#dartfx.unf.report.DatasetResult" title="dartfx.unf.report.DatasetResult"><span class="pre">DatasetResult</span></a></span><a class="headerlink" href="#id5" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">timestamp</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></span><a class="headerlink" href="#id6" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/dartfx/unf/report.html#UNFReport.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.report.UNFReport.to_dict" title="Link to this definition"></a></dt>
<dd><p>Serialise the report to a plain dict matching the JSON schema.</p>
<p>If <em>validate</em> is True, the resulting dict is validated against
the bundled <code class="docutils literal notranslate"><span class="pre">unf6_schema.json</span></code> using the <code class="docutils literal notranslate"><span class="pre">jsonschema</span></code> library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dartfx.unf.report.UNFReport.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/report.html#UNFReport.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.report.UNFReport.to_json" title="Link to this definition"></a></dt>
<dd><p>Serialise the report to a JSON string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">unf_version</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'6'</span></span><a class="headerlink" href="#id7" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="normalization-logic">
<h2>Normalization Logic<a class="headerlink" href="#normalization-logic" title="Link to this heading"></a></h2>
<p>Internal functions responsible for spec-compliant data normalization.</p>
<p id="module-dartfx.unf.normalize">Normalization of individual values according to UNF v6 specification.</p>
<p>This module handles section Ia of the specification:
- Numeric normalization (Ia.1)
- String normalization (Ia.2)
- Boolean normalization (Ia.3)
- Date/Time normalization (Ia.5)
- Missing value encoding (Ia.6)</p>
<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_bit_field">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_bit_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_bit_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_bit_field" title="Link to this definition"></a></dt>
<dd><p>Normalize a bit field value per UNF v6 spec §Ia.4.</p>
<p>Normalization steps:
1. Convert to big-endian form (implicit in binary input).
2. Truncate leading zero bits.
3. Align to a byte boundary (minimise bytes needed).
4. Base64 encode the result.
5. Append terminator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_boolean">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_boolean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_boolean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_boolean" title="Link to this definition"></a></dt>
<dd><p>Normalize a boolean value per UNF v6 spec §Ia.3.</p>
<p>Booleans are treated as numeric 1 (True) or 0 (False).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_date">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_date" title="Link to this definition"></a></dt>
<dd><p>Normalize a date value per UNF v6 spec §Ia.5a.</p>
<p>Format: <code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code>, zero-padded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>datetime.date</em>) – The date value to normalize.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized byte representation including the terminator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_datetime">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_datetime" title="Link to this definition"></a></dt>
<dd><p>Normalize a combined date+time value per UNF v6 spec §Ia.5c.</p>
<p>Format: <code class="docutils literal notranslate"><span class="pre">YYYY-MM-DDThh:mm:ss[.fffff][Z]</span></code></p>
<p>If the datetime is timezone-aware, it is converted to UTC and a
<code class="docutils literal notranslate"><span class="pre">Z</span></code> suffix is appended. Partial dates are prohibited in combined
date and time values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>datetime.datetime</em>) – The datetime value to normalize.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized byte representation including the terminator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_duration">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timedelta</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_duration" title="Link to this definition"></a></dt>
<dd><p>Normalize a duration/interval value per UNF v6 spec §Ia.5d.</p>
<p>Durations are represented as the total number of seconds,
normalized as a numeric value. This is a pragmatic interpretation
since the spec dropped formal duration support but Polars Duration
columns still need handling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>datetime.timedelta</em>) – The duration value to normalize.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized byte representation including the terminator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_missing">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_missing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_missing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_missing" title="Link to this definition"></a></dt>
<dd><p>Return the missing value representation per UNF v6 spec §Ia.6.</p>
<p>Missing values are encoded as 3 null bytes with NO terminator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_numeric">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_numeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_numeric" title="Link to this definition"></a></dt>
<dd><p>Normalize a single numeric value per UNF v6 spec §Ia.1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em><em> or </em><em>int</em>) – The numeric value to normalize.</p></li>
<li><p><strong>digits</strong> (<em>int</em>) – Number of significant digits (<code class="docutils literal notranslate"><span class="pre">N</span></code>).</p></li>
<li><p><strong>truncate</strong> (<em>bool</em>) – If True, truncate instead of rounding (<code class="docutils literal notranslate"><span class="pre">R1</span></code> mode).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized byte representation including the terminator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_string">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_chars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_string" title="Link to this definition"></a></dt>
<dd><p>Normalize a character string per UNF v6 spec §Ia.2.</p>
<p>Encode as UTF-8, truncate to <code class="docutils literal notranslate"><span class="pre">max_chars</span></code> characters, then add
the newline + null terminator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>str</em>) – The string value to normalize.</p></li>
<li><p><strong>max_chars</strong> (<em>int</em>) – Maximum number of characters to keep (<code class="docutils literal notranslate"><span class="pre">X</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized byte representation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.normalize.normalize_time">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.normalize.</span></span><span class="sig-name descname"><span class="pre">normalize_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/normalize.html#normalize_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.normalize.normalize_time" title="Link to this definition"></a></dt>
<dd><p>Normalize a time value per UNF v6 spec §Ia.5b.</p>
<p>Format: <code class="docutils literal notranslate"><span class="pre">hh:mm:ss[.fffff][Z]</span></code></p>
<p>If the time has timezone information, it is converted to UTC and
a <code class="docutils literal notranslate"><span class="pre">Z</span></code> suffix is appended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>datetime.time</em>) – The time value to normalize.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized byte representation including the terminator.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-dartfx.unf.hasher">
<span id="internal-utilities"></span><h2>Internal Utilities<a class="headerlink" href="#module-dartfx.unf.hasher" title="Link to this heading"></a></h2>
<p>SHA-256 hashing and UNF fingerprint generation (spec §Ib and §II).</p>
<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.hasher.combine_unfs">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.hasher.</span></span><span class="sig-name descname"><span class="pre">combine_unfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unf_strings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/hasher.html#combine_unfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.hasher.combine_unfs" title="Link to this definition"></a></dt>
<dd><p>Combine multiple UNF strings into a single UNF (spec §IIa / §IIb).</p>
<p>The UNF specification requires:
1. Sort the printable UNF strings in POSIX locale order.
2. Apply the UNF algorithm to the resulting vector of character strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unf_strings</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of printable UNF strings to combine.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters. Uses defaults if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The combined UNF string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.hasher.compute_unf_hash">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.hasher.</span></span><span class="sig-name descname"><span class="pre">compute_unf_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concatenated</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/hasher.html#compute_unf_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.hasher.compute_unf_hash" title="Link to this definition"></a></dt>
<dd><p>Compute the UNF fingerprint from a concatenated byte string.</p>
<p>This implements spec §Ib:
1. Compute SHA-256 of the concatenated normalized values.
2. Truncate the hash to <code class="docutils literal notranslate"><span class="pre">H</span></code> bits (default 128).
3. Encode the result in base64.
4. Prepend the UNF header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>concatenated</strong> (<em>bytes</em>) – The concatenated, normalized byte representations of all
vector elements.</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters. Uses defaults if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The printable UNF string, e.g. <code class="docutils literal notranslate"><span class="pre">UNF:6:Do5dfAoOOFt4FSj0JcByEw==</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.hasher.finalize_hash">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.hasher.</span></span><span class="sig-name descname"><span class="pre">finalize_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hasher</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">hashlib._Hash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><span class="pre">UNFParameters</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/hasher.html#finalize_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.hasher.finalize_hash" title="Link to this definition"></a></dt>
<dd><p>Produce a UNF string from an in-progress SHA-256 hasher.</p>
<p>This is the incremental counterpart of <a class="reference internal" href="#dartfx.unf.hasher.compute_unf_hash" title="dartfx.unf.hasher.compute_unf_hash"><code class="xref py py-func docutils literal notranslate"><span class="pre">compute_unf_hash()</span></code></a>.
Feed normalized bytes into the <em>hasher</em> via <code class="docutils literal notranslate"><span class="pre">hasher.update(chunk)</span></code>
across one or more batches, then call this function once to obtain
the final UNF string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hasher</strong> (<em>hashlib._Hash</em>) – A SHA-256 hash object (from <code class="docutils literal notranslate"><span class="pre">hashlib.sha256()</span></code>).</p></li>
<li><p><strong>params</strong> (<a class="reference internal" href="#dartfx.unf.parameters.UNFParameters" title="dartfx.unf.parameters.UNFParameters"><em>UNFParameters</em></a><em>, </em><em>optional</em>) – Calculation parameters. Uses defaults if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The printable UNF string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<p id="module-dartfx.unf.memory">System memory utilities for streaming decision-making.</p>
<p>Provides platform-aware memory detection and a heuristic to decide
whether a file should be processed in-memory or via streaming.</p>
<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.memory.get_available_memory">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.memory.</span></span><span class="sig-name descname"><span class="pre">get_available_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/memory.html#get_available_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.memory.get_available_memory" title="Link to this definition"></a></dt>
<dd><p>Estimate available system memory in bytes.</p>
<p>Strategy (in order of preference):</p>
<ol class="arabic simple">
<li><p>Linux <code class="docutils literal notranslate"><span class="pre">/proc/meminfo</span></code> – reads <em>MemAvailable</em>, which accounts
for caches and buffers and is the most accurate indicator of
how much memory a new process can use.</p></li>
<li><p>Windows <code class="docutils literal notranslate"><span class="pre">kernel32.GlobalMemoryStatusEx</span></code> – returns <em>available</em>
physical memory via the Win32 API (no external dependencies).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">os.sysconf</span></code> – available on macOS and Linux; returns <em>total</em>
physical memory (not currently-free memory, but still useful
as an upper bound).</p></li>
<li><p>Fallback – assume 4 GB.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Estimated available memory in bytes.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dartfx.unf.memory.should_stream">
<span class="sig-prename descclassname"><span class="pre">dartfx.unf.memory.</span></span><span class="sig-name descname"><span class="pre">should_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_fraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.25</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/dartfx/unf/memory.html#should_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dartfx.unf.memory.should_stream" title="Link to this definition"></a></dt>
<dd><p>Decide whether a file should be processed via streaming.</p>
<p>The heuristic compares the on-disk file size against a configurable
fraction of available memory.  Because in-memory representations
(especially for CSV) can be several times larger than the raw file,
the default fraction is conservative (25 %).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>Path</em>) – Path to the data file.</p></li>
<li><p><strong>memory_fraction</strong> (<em>float</em>) – Fraction of available memory above which streaming is triggered.
Default is 0.25 (25 %).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if streaming is recommended.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Data Artifex.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>